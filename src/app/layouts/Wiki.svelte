<script lang='ts'>
    import { markdownToHtml } from "../utils/markdown"
    const wikiInfo = {
        "Lexicon": "# The Lexicon Tab\nWhen you first open Lexicanter, you’ll find yourself on the Lexicon tab. This is the place where you will be adding words to your lexicon. This tab is composed of three panels: the alphabet panel, the editor panel, and the lexicon panel itself.\n\n## The Alphabet Panel\nUnder the tab navigation at the top of the app, you’ll see two checkboxes and the alphabet text input.\n### Alphabet Settings\n- Case Sensitivity will make letters case sensitive making the app alphabetize ‘A’ differently for ‘a’, for example.\n- Ignore Diacritics is on by default and turning it off will make the app alphabetize ‘a’ separately from ‘â’.\n### The Alphabet\nThe alphabet field is where you organize the alphabet of your conlang. This will determine the order of your words in the lexicon. Any letters or symbols you use in your words can be added here and will alphabetize the lexicon according to the order you write here. Each alphabetization token should be separated by a space: this way, it is possible to alphabetize multi-character tokens (ie 'sh') separately from single-character tokens and other multi-character tokens (ie 's', 'sz'). \n\n## Editor Panel\nBelow the Alphabet panel we have the Editor panel on the left, where you can add new words and edit existing words.\nIn the Editor panel, you’ll see three text boxes when using the default settings. There are some advanced settings which alter the appearance of this tab, which you can read about on other pages in this wiki. \n### New Word & Pronunciation\nThe text box under ‘New Word’ is where you type your new words. The intention is that you use your romanized orthography here, although technically this is not necessary. Under this text box is where the pronunciation will automatically fill in. Lexicanter automatically updates pronunciations in your lexicon based on rules you can specify in the Phonology tab. See [Pronunciation Rules](https://github.com/Saturnine-Softworks/Lexicanter/wiki/Pronunciation-Rules) to read up on how to write these. \n### Irregular Pronunciations\nIf the pronunciation is manually altered, it will not automatically update unless the word itself is edited, so keep this in mind when making manual changes.\n\n### Definitions and Senses\nThe next text field is for the definition of the word. If the word has multiple definitions, you may write all of them in this first text box if you wish; however, Lexicanter offers a way you can format multiple definitions separately. By clicking the ‘Add Sense’ button, you can create another set of text boxes for another definition and its tags. \n\n### Tags\nTags are a useful way to organize and filter through the words in your lexicon, and they can also be utilized by advanced users for setting up automatic inflection tables. Each sense of a word is allowed to have its own set of tags. Tags are arbitrary space-separated terms which will appear above the sense definition in the lexicon, and can be searched by. One advantage to using multiple senses for separate definitions is that they can each have their own tags. \n\n## Lexicon Panel\n### Adding and Editing Words\nClicking the ‘Add Word’ button will add your new word to the lexicon on the right.\nIf you attempt to add a word that already exists, you will be given the option to ‘overwrite’ or ‘append the definition’ to the existing word. To edit the word, right-click on it in the lexicon panel. \n\n### Searching\nIn the lexicon panel, there are three text boxes along the top. These are the lexicon’s search functions. You can search the lexicon for specific words, definitions, and tags. \n\nThere are some special functions which can be applied to help find specific entries. The character `^` means *word boundary*. \nSearching for `^an` will only show results which *start* with 'an', and searching `an^` will only show results that *end* with 'an'. Just searching 'an' will show results which have 'an' anywhere in the word. \nIn both the tags and definition searches, you can prefix your search with `!` to only show results which have your search term as a whole word. For example, searching for the tag `culture` will also show words tagged 'agriculture' and 'horticulture', but searching for `!culture` will only show words tagged 'culture'. \n",
        "Phrasebook": "# Phrasebook Tab\nLexicanter’s Phrasebook feature allows you to add phrases with all the features of the main Lexicon. When opening the Phrasebook tab, you’ll see three panels. At the left are the Categories where you can organize your phrases; to the right is where your phrases will be displayed depending on what category is selected; and at the bottom is where you can add and edit phrases.\n\nWhen adding new phrases, it functions the same as the Lexicon tab. On the bottom left, when the phrase is added it will have pronunciation rules applied automatically. You can add the definition and tags to organize it even further. Under that is a fourth textbox to enter the category of the phrase. This can be a single or multi-word phrase. If you are already viewing the phrases in a category, this text box will be filled in for you.\n\nOn the right side of the phrase editor panel, you can add variants - or other versions - of the new phrase. You can add as many variants as needed.\nThe ‘Add Phrase’ button will add the new phrase, as well as the category if it is not already present.\nOn the top right panel, there are search functions just like in the Lexicon tab and can be used to search the Phrasebook.\n",
        "Documenting": "# The Documentation Tab\nWhen you first open the Documentation tab, you’ll notice that it is empty save for a single line of text and a `+` on the far right. This tab can be used to add details about your conlang using text and tables. When you click on the `+`, you’ll see three options: Text, Heading, and Table. Clicking any of these will create the corresponding block section.\n\n## Tools for Documenting Your Language\n### Headings\nA heading will place your cursor and all you need to do is type. A large, bold font will be used by default. To the left of that new text, you’ll see a `+` and a new button with 6 dots. Clicking this will give you the option to fine tune that section of text. You can change the heading type, move it up or down and delete it entirely.\n\n### Paragraphs and Formatting\nClicking the `+` again will give you the options for other sections to add, such as a paragraph section. Additionally, in any type of block, you can highlight text to apply a range of styles to it, such as italics, bolding, underlining, and hyperlinking. If you wish to have linebreaks within the same paragraph block, you can press Shift+Enter. Pressing Enter alone will make a create a new paragraph block.\n\n### Tables\nThe last type of section to add is the table. When you first add it, there will be three rows and three columns. You can click the `+`’s just right and to the bottom of the table to add new rows or columns. Hovering over a specific table cell will bring up a button with 4 dots, which can be used to add rows above/below, columns to the left/right or to delete an entire row or column. For fine tuning the table, you have two different options along with the standard move up/down and delete: 'With headings' and 'Without headings'. By default, the table is set to 'Without headings'. Selecting 'With headings' will make the text in the top row of cells bold, and add a slightly thicker border to the bottom of that row.\nTo navigate rows and columns within the table, you can use the arrow keys to go left and right, the Enter key to go directly down, or simply click in the cell you want to edit.\n",
        "Pronunciation Rules": "# The Sound Change Engine\nLexicanter uses a custom-built sound change engine to allow you to configure automatic orthography to phonetic notation conversion.\n\nIf you're not familiar with sound change appliers, you might be lost here, and if you *are* familiar with sound change appliers, you might be wondering how such a thing is supposed to be used to convert your romanization to IPA. In any case, let's start from the beginning. \n\n## The Basics\n### Defining Rules\nLet's say you write the phoneme /θ/ as ⟨th⟩. To convert your *orthograph* ⟨th⟩ to *phonetic notation* /θ/, we can use a rule. \n```\nth > θ\n```\n### Using Contexts\nThis is straightforward enough. ⟨th⟩ becomes /θ/. But what if /θ/ only occurs before front-vowels, and everywhere else it's /tʰ/. How would we write a rule to accomodate for this? One way is to use a *context*. \n```\nth > θ / _e\nth > θ / _i\nth > tʰ\n```\n### Anonymous Categories\nNow we're telling it only to turn ⟨th⟩ into /θ/ if it comes before /e/ or /i/. But this is a little bulky; we can condense these rules. \n```\nth > θ / _{e, i}\nth > tʰ\n```\nThese two rules do the exact same thing as the last set, but now we're using an *anonymous category* `{e, i}` to mean 'either e or i'. \n### Named Categories\nBut let's say we have several rules which make use of the same anonymous category:\n```\nth > θ / _{e, i}\nth > tʰ\nc > s / _{e, i}\nc > k\ng > ʤ / _{e, i}\n```\nWe can avoid writing `{e, i}` a bunch of times by defining a *named category*. \n```\nE :: e, i\nth > θ / _E\nth > tʰ\nc > s / _E\nc > k\ng > ʤ / _E\n```\nThat's a little better. \n### Category Conversion\nBut several of these rules are very similar. There's something we can do about that:\n```\nE :: e, i\n{th, c, g} > {θ, s, ʤ} / _E\n{th, c} > {tʰ, k}\n```\nWe can create anonymous categories of equal length on both sides of the conversion in order to convert between them. We can also do this with named categories, if we prefer:\n```\nP :: th, c, g\nF :: θ, s, ʤ\nK :: tʰ, k, g\nE :: e, i\nP > F / _E\nP > K\n```\nThis takes up a few more lines, but now we can re-use these named categories in further rules should we need to. \n\n## Advanced Usage\nNow that we understand the basics, let's look at how Lexicanter's sound change engine can deal with common and important edge cases.\n\n### Alternate Rule Formats\nBefore we get into those, though, let's briefly talk about the rule format. On this page, I've been using the formats\n```\npattern > substitution\npattern > substitution / context\n```\nIn the first case, the implicit context is just `_`, or 'always'. \nBut many of you may be familiar with another standard sound change notation format:\n```\npattern/substitution/context\n```\nLexicanter accepts rules written this way as well. In fact, all of the following are valid and will be accepted:\n```\npattern>substitution\npattern / substitution\npattern/substitution / context\npattern  > substitution/context\n```\nThe rule parser ignores all spaces, and the implicit 'always' context shorthand can be done with either `>` or `/` rules.\n\n### Word Boundaries\nOften times, the pronunciation of a grapheme changes depending on whether or not it's at the beginning or end of a word. Lexicanter reserves two symbols for this purpose: `^` and `#`. Both of them have the exact same purpose, and which one you use is a matter of personal preference. I'll be using `^`. \n\nTurn ⟨e⟩ into /ə/ at the end of words:\n```\ne > ə / _^\n```\nTurn ⟨y⟩ to /ɪ/ at the beginning of words:\n```\ny > ɪ / ^_\n```\n\n### Exceptions\nSometimes a grapheme has a pronunciation in all except a specific case. \nFor example, this rule turns all ⟨x⟩ into /ks/ as long as they are preceded by anything except /e/ or /i/:\n```\nx > ks / {!e, i}_\n```\nNote that this does assume `{!e}` must be *some* character, just not the ones in the group. If you would like to make this rule also apply at word boundaries, you can write it as so:\n```\nx > ks / {^, {!e, i}}_\n```\nor write it as two rules:\n```\nx > ks / {e, i}_\nx > ks / ^_\n```\nThere are usually multiple ways to get things to happen. \n\n### Wildcards\nSometimes, you just need to specify *any character at all* must be in a certain position. For that, another character is reserved: `.`.\nThe following rules turns ⟨h⟩ to /ç/ when it comes before /u/ and two other character:\n```\nh > ç / _u..\n```\nOther times, you may need to specify that any number of certain characters can appear. Two more symbols are reserved: `*` for 0 or more and `+` for 1 or more. \nThe following rule turns ⟨y⟩ to /i/ when it comes before any number of optional /d/ and at least one /o/ before the end of a word:\n```\ny > i / _ d* o+ ^\n```\nThese two symbols can also be used with categories. Note that the spaces here will be ignored and are just for readability; the parser ignores all spaces.\n\n### Optional Members\nThere is also a way to specify that something is optional without necessarily being allowed to repeat indefinitely. The character `?` is reserved for this.\nThe following rule changes ⟨n⟩ to /ŋ/ before a single optional /g/ or /k/ followed by the end of the word. \n```\nn > ŋ / _ {g, k}? ^\n```\nAs you can see, this works with categories as well. \n\n### Reduplication\nIn rare cases, a grapheme or sequence of graphemes may always be pronounced multiple times. For these cases, we can use `_` in the substitution to represent the entire captured pattern.\nThis is also useful in some cases for auto-inflection rules. \nThe following rule turns /er/ into /erer/ wherever it comes in the middle of a word:\n```\ner > __ / ._.\n```\n\n### Prefixes & Suffixes\nWhen writing rules for auto-inflections, you may need to add prefixes and suffixes to a word. You can write such rules using an insertion format. (For these, `#` typically looks better than `^`). \nAdds a suffix:\n```\n/ate/._#\n```\nAdds a prefix:\n```\n/eta/#_.\n```\nAlternatively, you can replace the word boundary itself. Equivalent to the rules above:\n```\n# > ate / ._\n# > eta / _.\n```",
        "Lects": "# What is a 'Lect'? \nThe term 'lect' refers agnostically to any kind of variation of a language that may be classified as a dialect, ethnolect, regiolect, cryptolect, idiolect, et cetera. Lexicanter offers a suite of features which make it easier to document your language's various lects, should you have any. \n\n## Adding, Removing, and Renaming\n### Adding\nAdding new lects can always be done safely, as adding a new lect does not change the contents of the lexicon. When you add a lect, you will be prompted to name it. Then its name will appear in a list under the other lect-related settings, with three buttons. One of these is for deleting the lect, one of these is for renaming the lect, and one of these has a special purpose: adding all words in your lexicon to this lect. This is a useful features if you create a new lect midway through developing your language which should have all or most of the existing words. \n\n### Renaming\nRenaming lects can also always be done safely, as this does not actually change the contents of the lexicon aside from the name which appears next to options and information related to the changed lect.\n\n### Removing\nRemoving lects *does not* delete the words which were assigned to that lect, but it *does* delete any pronunciations and the pronunciation rule set associated with that lect. You cannot delete the last remaining lect; there must always be at least one. Even when lect features are disabled, the app uses a lect named 'General' under the hood. \n\n## Phonetics & Semantics\n### Lect-Specific Pronunciation Rules\nThis is likely the main reason you would want to use the lect features. Each lect can have it own set of pronunciation rules, which you can write by selecting the lect from the dropdown which appears over the Pronunciations text field in the Phonology tab. To learn more about writing pronunciation rules, see the [Pronunciation Rules](https://github.com/Saturnine-Softworks/Lexicanter/wiki/Pronunciation-Rules) page. \n\n### Lexicon and Phrasebook\nIn both of these tabs, a new set of checkboxes will appear in the entry editor panel. In the Lexicon, this set of checkboxes appears for every *sense* of a word; in the phrasebook, you have this option for each *phrase*.\nChecking these boxes assigns that sense/phrase to that lect. A new pronunciation field will appear for each lect which is selected, and will be auto-filled using the pronunciation rules assigned to that lect. All of a word or phrase's pronunciations will appear beneath it in the lexicon/book. This way, you can include words and phrases which only appear in specific lects. \n",
        "Etymology": "# Creating Etymology Trees\nWhen you enable Etymology Features under Advanced Settings, Lexicanter will reveal to you a new tab called *Etymology* and slightly change the appearance of entries in the lexicon. These features are a powerful and convenient way to document the lineages of your language's words. \n\n## The Etymology Tab\nYou'll be greeted by a small panel on the left with a search bar and two lists, labelled *Internal* and *External*. If this is your first time opening this tab, *External* is probably empty. We'll get back to that. \n\n*Internal* will be populated by a list of all of the words in your lexicon. If you click on one of these, you'll see the large panel on the left is updated. The word you clicked on will appear floating in the upper-middle of the panel, and its lexicon entry will appear slightly below. Further below, there are two columns, labelled *Ancestors* and *Descendants*, each with a checkbox labelled *Manual Entry*, unticked by default, and below that, a blank dropdown.\n\n### Editing Ancestor and Descendant Tethers\nWhen you click on either of those dropdowns, you'll be greeted with, once again, your entire lexicon. You should be able to use the keyboard to navigate this list, but since some lexicons can be massive and overwhelming, the search field at the top of the left-hand panel narrows down not only the list in that column, but also the lists you see in the dropdowns on this tab. \nAfter selecting a word from your lexicon, pressing the *Link* button will link the currently selected word to the ancestor/descendant word. As you add more ancestors and descendants, you'll see how the tree graph is drawn in this panel. \nTo remove a word from another words ancestors/descendants, find it in the list which appears in the respective column and click the *Sever* button to sever the tie. \n\n### Manual Entry\nIn many cases, you'll need to link to a word which is not in your lexicon. It may be from an ancestor language, or even from an unrelated language. For these cases, you can enable *Manual Entry*. \nWhen Manual Entry is enabled, you will see two text fields instead of a dropdown. The first of these text fields is for the related word itself, and the other text field is for specifying the *source* – that is, what language the word comes from. \nWhen you create entries this way, they will appear in the *External* list in the left-hand panel. External words also appear in the drop-downs after they are created. \n\n### Removing Etymology Entries\nWhen a word is selected, but it has no ancestor or descendant tethers, a button will appear that allows you to delete the entry altogether. \nFor words in your lexicon, this will *not delete the word from your lexicon* - it will simply clear the space for its etymology data out of the file data. This has no permanent effect, as you can select the word from the list to create its etymology entry again, but it may help to put at ease those of you who are particularly conscious about your file sizes. \nFor external entries, this *will delete* the entry altogether. This is how you can remove words from the *External* list in the left-hand panel. \n\n## Importing Related Lexicons\nWhen Etymology features are enabled, another option will appear in the Advanced Settings section: a button which allows you to import related lexicons. Using this button, you can select another Lexicanter file to import a lexicon from. The entirety of the lexicon will be saved to your *External* etymology entries. You can manage the external lexicons in your file under Advanced Settings.\n\n## Lexicon Appearance Changes\nOn every lexical entry which is part of an etymology tree, a short, simplified version of that word's ancestry will appear beneath its senses. This makes it easy to see a word's history at a glance when viewing your lexicon. \n",
        "Inflections": "# Inflection Features\nLexicanter offers a way to expand your lexical entries with inflection information automatically generated from sound change rules.\nIt's a useful feature for generating verb conjugation tables, noun declension tables, and the like. This feature must be enabled under\nAdvanced Settings.\n\n## The Inflection Tab\nWhen you first open this tab, there will be a single button which reads 'Add Inflection Group'.\nWhen you click on this, an inflection group editor will be created. It has two text fields: the first is labelled 'Tags',\nand the second is labelled 'RegEx Filter' and should be pre-populated with `.+`. Below that, there will be a block-based\neditor similar to what is used in the Documentation tab.\n\n### Tags\nThe tags you assign to an inflection group should correspond to tags that you use in the lexicon. For example, if this inflection\ngroup is for verbs and you've marked verbs in the lexicon with the tag `verb`, you should put that tag here. The inflection group \nwill only be applied to lexical entries with tags that match the inflection group's own tags. You can use multiple tags if you wish, \nand the inflection group will be applied to any entry that has at least one of those tags. \n\n### RegEx Filter\nYou can write a regular expression to filter which words the inflection group is applied to even further. If you're unfamiliar with regular \nexpressions, you can read up on them [here](https://www.regular-expressions.info). Some basic patterns will be described here. \nAs an example, let's say that, like in Spanish, your verbs end in -ar, -er, and -ir, and there is a different set of conjugations depending \non which ending the verb has, but in the lexicon, each kind of verb has the same 'verb' tag. You can target your inflection group toward only \n-ar verbs by writing the following RegEx filter:\n```regex\n^.+ar$\n```\nNow this inflection group will only apply to words which have the 'verb' tag *and* end in -ar.\n\n### Editor\nYou can write whatever you want in the editor. You have headings, paragraphs, tables, and document markup at your disposal. However, \nthere is a key difference between this and the Documentation tab editor: the app will check through the table cells of all tables in your \ninflection group when it applies the inflection group to a word, and if the table cell has a sound change rule in it, it will replace the\ncontents of that cell with the word and apply the rule to it. So for example, if a table has a cell in it with the rule\n```\nar > o / _^\n```\nThen in the lexicon tab, on the word *hablar*, that cell will be replaced with 'hablo'. Cells which do not have `/` or `>` in them are ignored. \nTo learn more about writing sound change rules in Lexicanter, read the \n[Pronunciation Rules](https://github.com/Saturnine-Softworks/Lexicanter/wiki/Pronunciation-Rules) page. \n\n## In the Lexicon\nAfter creating inflection groups, a dropdown labelled 'Inflections' will appear in the lexical entries underneath the senses to \nwhich that inflection group applies. \n\n## Agenda\nSeveral improvements are planned for the Inflections features, including a way to specify irregulars and a UI-based way to filter \nwords instead of requiring the user to manually write RegEx filters (although that will remain an option for advanced users). \n        ",
    }
    const pages = Object.keys(wikiInfo)
    let page = pages[0]
</script>
<div class="tab-pane container" style:height=92vh>
    <div class="row" style:height=100%>
        <div class="column" style:max-width=9vw>
            {#each pages as p}
                <div class="lex-entry"
                    class:selected={p === page}
                    on:mousedown={() => page = p}
                > {p} </div>
            {/each}
        </div>

        <div class="column scrolled" style:height=100%>
            {@html markdownToHtml(wikiInfo[page])}
        </div>
    </div>
</div>
